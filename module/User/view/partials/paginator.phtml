<?php
$options = $this->options;
$getOptions = function ($page) use ($options) {
    
    if($options) {
        $options['page'] = $page;    
    } else {
        unset($options['page']);
    }
    return $options;
}
?>

<?php if($this->pageCount): ?>
    <div class="text-center">
        <ul class="pagination pagination-centered">
            
            <?php if(isset($this->previous)): ?>
                <li><a href="<?=$this->url($this->route, $getOptions($this->previous))?>">&laquo;</a></li>
            <?php else: ?>
                <li class="disabled"><a href="#">&laquo;</a></li>
            <?php endif; ?>
                
            <?php foreach($this->pagesInRange as $page): ?>
                <?php if($page != $this->current): ?>
                    <li><a href="<?=$this->url($this->route, $getOptions($page))?>"><?=$page?></a></li>
                <?php else: ?>
                    <li class="active"><a href="#"><?=$page?></a></li>
                <?php endif; ?>
            <?php endforeach; ?>
                    
            <?php if(isset($this->next)): ?>
                <li><a href="<?=$this->url($this->route, $getOptions($this->next))?>">&raquo;</a></li>
            <?php else: ?>
                <li class="disable"><a href="#">&raquo;</a></li>
            <?php endif; ?>
            
        </ul>
    </div>
<?php endif; ?>
